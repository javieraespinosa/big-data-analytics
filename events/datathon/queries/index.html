<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.9.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><link rel=stylesheet href=/big-data-analytics/css/vendor-bundle.min.047268c6dd09ad74ba54a0ba71837064.css media=print onload='this.media="all"'><link rel=stylesheet href=/big-data-analytics/css/wowchemy.7eaca94f0cfe2f9115699dbdb8fbc775.css><link rel=stylesheet href=/big-data-analytics/css/libs/chroma/github-light.min.css title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=/big-data-analytics/css/libs/chroma/dracula.min.css title=hl-dark media=print onload='this.media="all"' disabled><meta name=author content="Javier Espinosa"><meta name=description content="Schema To answer the profiling queries, you need to extend the dataframe returned by the AUT .webpages() method as shown in the extended schema below.
Note that:
all new columns are derivated from the url column."><link rel=alternate hreflang=en-us href=https://espinosa-oviedo.com/big-data-analytics/events/datathon/queries/><link rel=canonical href=https://espinosa-oviedo.com/big-data-analytics/events/datathon/queries/><link rel=manifest href=/big-data-analytics/manifest.webmanifest><link rel=icon type=image/png href=/big-data-analytics/media/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/big-data-analytics/media/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_180x180_fill_lanczos_center_3.png><meta name=theme-color content="#1565c0"><meta property="twitter:card" content="summary"><meta property="twitter:site" content="@wowchemy"><meta property="twitter:creator" content="@wowchemy"><meta property="twitter:image" content="https://espinosa-oviedo.com/big-data-analytics/media/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_512x512_fill_lanczos_center_3.png"><meta property="og:site_name" content="Big Data Analytics"><meta property="og:url" content="https://espinosa-oviedo.com/big-data-analytics/events/datathon/queries/"><meta property="og:title" content="Phase 1: Profiling Queries | Big Data Analytics"><meta property="og:description" content="Schema To answer the profiling queries, you need to extend the dataframe returned by the AUT .webpages() method as shown in the extended schema below.
Note that:
all new columns are derivated from the url column."><meta property="og:image" content="https://espinosa-oviedo.com/big-data-analytics/media/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_512x512_fill_lanczos_center_3.png"><meta property="og:locale" content="en-us"><title>Phase 1: Profiling Queries | Big Data Analytics</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=85db3bba6a7aec052f73517ee9202b95><script src=/big-data-analytics/js/wowchemy-init.min.980187dd755ac492a5ed9f5d2ea310ab.js></script><div class="page-header header--fixed"><header><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/big-data-analytics/>Big Data Analytics</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/big-data-analytics/>Big Data Analytics</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/big-data-analytics/#about><span>About</span></a></li><li class=nav-item><a class=nav-link href=/big-data-analytics/#staff><span>Staff</span></a></li><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>Syllabus</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/big-data-analytics/syllabus-irc><span>IRC program</span></a>
<a class=dropdown-item href=/big-data-analytics/syllabus-eti><span>ETI program</span></a></div></li><li class=nav-item><a class=nav-link href=/big-data-analytics/exercises><span>Exercises</span></a></li><li class=nav-item><a class="nav-link active" href=/big-data-analytics/events/datathon/><span>Datathon</span></a></li><li class=nav-item><a class=nav-link href=/big-data-analytics/resources><span>Resources</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"></ul></div></nav></header></div><div class=page-body><div class="container-fluid docs"><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 docs-sidebar"><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">Datathon</span>
<span><i class="fas fa-chevron-down"></i></span></div></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li><a href=/big-data-analytics/events/></a></li><div class=docs-toc-item><a class=docs-toc-link href=/big-data-analytics/events/datathon/>Datathon</a><ul class="nav docs-sidenav"><li><a href=/big-data-analytics/events/datathon/description/>Description</a></li><li><a href=/big-data-analytics/events/datathon/instructions/>Instructions</a></li><li><a href=/big-data-analytics/events/datathon/evaluation/>Evaluation</a></li><li><a href=/big-data-analytics/events/datathon/resources/>Resources</a></li><li class=active><a href=/big-data-analytics/events/datathon/queries/>Queries</a></li></ul></div></ul></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>Contents</a></li></ul><nav id=TableOfContents><ul><li><a href=#schema>Schema</a></li><li><a href=#queries>Queries</a><ul><li><a href=#domain-names>Domain names</a></li><li><a href=#urls>URLs</a></li><li><a href=#web-pages-content>Web pages content</a></li><li><a href=#collection--hosts>Collection & Hosts</a></li><li><a href=#images>Images</a></li><li><a href=#web-graph>Web graph</a></li><li><a href=#multimedia>Multimedia</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role=main><div class=docs-article-container></div><div class=docs-article-container><h1>Phase 1: Profiling Queries</h1><article class=article-style><h2 id=schema>Schema</h2><p>To answer the profiling queries, you need to extend the dataframe returned by the AUT <a href=https://aut.docs.archivesunleashed.org/docs/0.91.0/dataframe-schemas#web-pages target=_blank rel=noopener>.webpages()</a> method as shown in the <strong>extended schema</strong> below.</p><p>Note that:</p><ul><li>all new columns are derivated from the <code>url</code> column.</li><li>the derivation can be done using the <a href=https://github.com/john-kurkowski/tldextract target=_blank rel=noopener>tldextract</a> and <a href=https://docs.python.org/3/library/urllib.parse.html target=_blank rel=noopener>urllib.parse</a> libraries.</li></ul><p><strong>Extended Schema</strong></p><pre>
df.webpages() 
|
|-- crawl_date                  
|-- mime_type_web_server        
|-- mime_type_tika              
|-- language                    
|-- content                     
|-- url:                         http://forums.news.cnn.com:80/
    |-- url_host_name:           forums.news.cnn.com
    |-- url_domain:              cnn
    |-- url_subdomain:           forums.news
    |-- url_tld:                 com
    |-- url_registered_domain:   cnn.com
    |-- url_domain_reversed:     com.cnn.news.forums
    |-- url_protocol:            http
    |-- url_host_port:           80
</pre><p><code>Optional</code> (see <a href=https://en.wikipedia.org/wiki/List_of_HTTP_header_fields target=_blank rel=noopener>HTTP header fields</a>)</p><pre>
    url_host_ip         192.168.1.10                                cf. log.txt file
    content_length      Content-Length: 348                         cf. content’s HTTP header 
    content_charset     Content-Type: text/html; charset=utf-8      cf. content’s HTTP header
</pre><h2 id=queries>Queries</h2><p>The following queries must be computed usning the WARC data collection of your choice.</p><h3 id=domain-names>Domain names</h3><ol><li><p>Which are the <strong>top registered domains</strong> (see <a href=https://commoncrawl.github.io/cc-crawl-statistics/plots/domains.html target=_blank rel=noopener>example</a>)?</p><ul><li><code>#</code> urls per domain</li><li><code>%</code> domain urls in collection</li></ul></li><li><p>Which are the <strong>Top TLD & gTLDs domains</strong> (see <a href=https://commoncrawl.github.io/cc-crawl-statistics/plots/tld/latestcrawl.html target=_blank rel=noopener>example</a>)?</p><ul><li>see <a href=https://kinsta.com/knowledgebase/what-is-a-tld/ target=_blank rel=noopener>What Is a TLD?</a> for more information</li></ul></li><li><p>Identify <strong>domains having more than one TLD</strong> (e.g., <code>amazon/.com/.fr</code>).</p></li><li><p>Identify <strong>subdomains</strong> for each domain.</p></li></ol><h3 id=urls>URLs</h3><ol start=5><li><p>Compute the <strong>distribution of the URLs components</strong>. For instance:</p><ul><li><code>http</code>/<code>https</code></li><li><code>port</code> number</li></ul></li><li><p>Count the <strong>number of words</strong> used in URLs</p><ul><li>e.g., split URLs at <code>.</code> (dot) and <code>-</code> (hyphen)</li></ul></li></ol><h3 id=web-pages-content>Web pages content</h3><ol start=7><li><p>Compute the <strong>list of languages</strong> used in webpages?</p></li><li><p>Compute the <strong>distribution</strong> of: </p><ul><li><code>MIME types</code> (see <a href=https://commoncrawl.github.io/cc-crawl-statistics/plots/mimetypes target=_blank rel=noopener>example</a>)</li><li><code>languages</code> (see <a href=https://commoncrawl.github.io/cc-crawl-statistics/plots/languages target=_blank rel=noopener>example</a>)</li><li><code>charsets</code> (see <a href=https://commoncrawl.github.io/cc-crawl-statistics/plots/charsets target=_blank rel=noopener>example</a>) (<strong>optional</strong>)</li></ul></li><li><p>Identify <strong>page titles</strong> (<strong>optional</strong>)</p></li></ol><h3 id=collection--hosts>Collection & Hosts</h3><ol start=10><li><p><strong>How many pages, per language</strong>, were collected per host?</p></li><li><p>What is the <strong>total number of bytes</strong> that was collected by the crawler for each host?</p></li><li><p>What is the <strong>ratio between the webpages and Web ressources</strong> that were collected per host? (<strong>optional</strong>)</p></li><li><p>For each host, <strong>list the servers IPs</strong> to which the crawler interacted to. Then, determine whether custom domains point to any of these hosts (<strong>optional</strong>)</p></li></ol><h3 id=images>Images</h3><ol start=14><li><p>Identify the <strong>largest/smallest image</strong> in the dataset (<code>width</code> x <code>height</code>)</p></li><li><p>Identify the images appearing in the data collection under different names (i.e., <strong>images having the same MD5 hash</strong>)</p></li><li><p>Find images shared between more than 2 domains (<a href=https://aut.docs.archivesunleashed.org/docs/0.91.0/image-analysis#pythondf target=_blank rel=noopener>example</a>)</p></li></ol><h3 id=web-graph>Web graph</h3><ol start=15><li>Identify <strong>domains with strong/weak connectivity</strong></li></ol><h3 id=multimedia>Multimedia</h3><ol start=16><li>Compute the statistics of the multimedia files within the data collection (<strong>optional</strong>)</li></ol></article><div class=article-widget><div class=post-nav><div class=post-nav-item><div class=meta-nav>Previous</div><a href=/big-data-analytics/events/datathon/resources/ rel=next>Resources</a></div></div></div></div><div class=body-footer><p>Last updated on Jan 1, 0001</p></div><footer class=site-footer><p class=powered-by>Published with <a href="https://wowchemy.com/?utm_campaign=poweredby" target=_blank rel=noopener>Wowchemy</a> — the free, <a href=https://github.com/wowchemy/wowchemy-hugo-themes target=_blank rel=noopener>open source</a> website builder that empowers creators.</p></footer></main></div></div></div><div class=page-footer></div><script src=/big-data-analytics/js/vendor-bundle.min.2bb60465c9a6f6dac617acc847766f5d.js></script>
<script src=https://cdn.jsdelivr.net/npm/anchor-js@5.0.0/anchor.min.js integrity="sha256-aQmOEF2ZD4NM/xt4hthzREIo/2PFkOX/g01WjxEV7Ys=" crossorigin=anonymous></script>
<script>anchors.add()</script><script id=page-data type=application/json>{"use_headroom":false}</script><script src=/big-data-analytics/en/js/wowchemy.min.b9330a1b2c4cb7b5339ec16e2ec08448.js></script></body></html>